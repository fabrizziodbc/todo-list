{"ast":null,"code":"import _toConsumableArray from\"/root/personalProjects/todo-list/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/root/personalProjects/todo-list/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useLocalStorage}from\"./useLocalStorage\";import{jsx as _jsx}from\"react/jsx-runtime\";var TodoContext=/*#__PURE__*/React.createContext();var prueba=[1,2,3];function TodoProvider(props){var _useLocalStorage=useLocalStorage(\"TODOS_V1\",[]),todos=_useLocalStorage.todos,saveTodos=_useLocalStorage.saveTodos,loading=_useLocalStorage.loading;var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),searchValue=_React$useState2[0],setSearchValue=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),modal=_React$useState4[0],setModal=_React$useState4[1];var totalTodos=todos.length;var completedTodos=todos.filter(function(t){return t.completed===true;}).length;var todoSearchbox=[];if(!searchValue>=1){todoSearchbox=todos;}else{todoSearchbox=todos.filter(function(t){var searchLower=searchValue.toLowerCase();var todosLower=t.text.toLowerCase();return todosLower.includes(searchLower);});}var toggleModal=function toggleModal(){setModal(!modal);};var submitTask=function submitTask(text){todoSearchbox.push({text:text,completed:false});saveTodos(todoSearchbox);toggleModal();};var completeTodos=function completeTodos(text){var todoIndex=todos.findIndex(function(t){return t.text===text;});var newTodos=_toConsumableArray(todos);newTodos[todoIndex].completed=!newTodos[todoIndex].completed;saveTodos(newTodos);};var deleteTodos=function deleteTodos(text){var todoIndex=todos.findIndex(function(t){return t.text===text;});var newTodos=_toConsumableArray(todos);newTodos.splice(todoIndex,1);saveTodos(newTodos);};return/*#__PURE__*/_jsx(TodoContext.Provider,{value:{loading:loading,totalTodos:totalTodos,completedTodos:completedTodos,searchValue:searchValue,setSearchValue:setSearchValue,todoSearchbox:todoSearchbox,deleteTodos:deleteTodos,completeTodos:completeTodos,modal:modal,setModal:setModal,toggleModal:toggleModal,submitTask:submitTask,prueba:prueba},children:props.children});}export{TodoContext,TodoProvider};","map":{"version":3,"sources":["/root/personalProjects/todo-list/src/library/common/Components/TodoContext/index.js"],"names":["React","useLocalStorage","TodoContext","createContext","prueba","TodoProvider","props","todos","saveTodos","loading","useState","searchValue","setSearchValue","modal","setModal","totalTodos","length","completedTodos","filter","t","completed","todoSearchbox","searchLower","toLowerCase","todosLower","text","includes","toggleModal","submitTask","push","completeTodos","todoIndex","findIndex","newTodos","deleteTodos","splice","children"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useLocalStorage } from \"./useLocalStorage\";\n\nconst TodoContext = React.createContext();\nconst prueba = [1, 2, 3];\nfunction TodoProvider(props) {\n  const { todos, saveTodos, loading } = useLocalStorage(\"TODOS_V1\", []);\n  const [searchValue, setSearchValue] = React.useState(\"\");\n  const [modal, setModal] = React.useState(false);\n  const totalTodos = todos.length;\n  const completedTodos = todos.filter((t) => t.completed === true).length;\n\n  let todoSearchbox = [];\n  if (!searchValue >= 1) {\n    todoSearchbox = todos;\n  } else {\n    todoSearchbox = todos.filter((t) => {\n      const searchLower = searchValue.toLowerCase();\n      const todosLower = t.text.toLowerCase();\n      return todosLower.includes(searchLower);\n    });\n  }\n\n  const toggleModal = () => {\n    setModal(!modal);\n  };\n  const submitTask = (text) => {\n    todoSearchbox.push({ text: text, completed: false });\n    saveTodos(todoSearchbox);\n    toggleModal();\n  };\n  const completeTodos = (text) => {\n    const todoIndex = todos.findIndex((t) => t.text === text);\n    const newTodos = [...todos];\n    newTodos[todoIndex].completed = !newTodos[todoIndex].completed;\n    saveTodos(newTodos);\n  };\n  const deleteTodos = (text) => {\n    const todoIndex = todos.findIndex((t) => t.text === text);\n    const newTodos = [...todos];\n    newTodos.splice(todoIndex, 1);\n    saveTodos(newTodos);\n  };\n  return (\n    <TodoContext.Provider\n      value={{\n        loading,\n        totalTodos,\n        completedTodos,\n        searchValue,\n        setSearchValue,\n        todoSearchbox,\n        deleteTodos,\n        completeTodos,\n        modal,\n        setModal,\n        toggleModal,\n        submitTask,\n        prueba,\n      }}\n    >\n      {props.children}\n    </TodoContext.Provider>\n  );\n}\nexport { TodoContext, TodoProvider };\n"]},"metadata":{},"sourceType":"module"}